(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d956d30a"],{"012b":function(t,a,e){},8765:function(t,a,e){"use strict";e("012b")},9406:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t._self._c;return a("div",{staticClass:"container"},[a("panel-group",{attrs:{state:t.data},on:{handleSetLineChartData:t.handleSetLineChartData}}),t._v(" "),a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[t.lineChartData.x_data?a("line-chart",{attrs:{"chart-data":t.lineChartData}}):t._e()],1)],1)},s=[],i=(e("8e6e"),e("ac6a"),e("456d"),e("ade3")),r=e("2f62"),c=e("e876"),l=function(){var t=this,a=t._self._c;return a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(a){return t.handleSetLineChartData("messages")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-message"},[a("svg-icon",{attrs:{"icon-class":"message","class-name":"card-panel-icon"}})],1),t._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v("活跃IP")]),t._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{startVal:0,endVal:t.state.ip_cnt,duration:3e3}})],1)])]),t._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(a){return t.handleSetLineChartData("purchases")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-register"},[a("svg-icon",{attrs:{"icon-class":"register","class-name":"card-panel-icon"}})],1),t._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v("今日注册")]),t._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{startVal:0,endVal:t.state.today_register,duration:3e3}})],1)])]),t._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(a){return t.handleSetLineChartData("purchases")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-question"},[a("svg-icon",{attrs:{"icon-class":"question","class-name":"card-panel-icon"}})],1),t._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v("题库")]),t._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{startVal:0,endVal:t.state.challenges_cnt,duration:3e3}})],1)])]),t._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(a){return t.handleSetLineChartData("purchases")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-answer"},[a("svg-icon",{attrs:{"icon-class":"answer","class-name":"card-panel-icon"}})],1),t._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v("今日挑战")]),t._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{startVal:0,endVal:t.state.today_create_cnt,duration:3e3}})],1)])])],1)},o=[],d=e("ec1b"),p=e.n(d),u={props:{state:{type:Object}},data:function(){return{}},created:function(){},components:{CountTo:p.a},methods:{handleSetLineChartData:function(t){this.$emit("handleSetLineChartData",t)}}},h=u,v=(e("8765"),e("2877")),f=Object(v["a"])(h,l,o,!1,null,"5ac16246",null),g=f.exports,_=function(){var t=this,a=t._self._c;return a("div",{ref:"lineChart",class:t.className,style:{height:t.height,width:t.width}})},m=[],C=e("ed08"),b=e("313e");e("817d");var w={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object}},data:function(){return{chart:null}},mounted:function(){var t=this;this.initChart(),this.autoResize&&(this.__resizeHanlder=Object(C["b"])((function(){t.chart&&t.chart.resize()}),100),window.addEventListener("resize",this.__resizeHanlder));var a=document.getElementsByClassName("sidebar-container")[0];a.addEventListener("transitionend",this.__resizeHanlder)},beforeDestroy:function(){if(this.chart){this.autoResize&&window&&window.removeEventListener("resize",this.__resizeHanlder);var t=document.getElementsByClassName("sidebar-container")[0];void 0!==t&&t.removeEventListener("transitionend",this.__resizeHanlder),this.chart.dispose(),this.chart=null}},methods:{setOptions:function(t){for(var a=t.x_data,e={xAxis:{data:a,boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:[]},series:[]},n=["#FF005A","#40c9c6","#FF9C6E"],s=0;s<t.lines.length;s++)e.legend.data.push(t.lines[s].label),e.series.push({name:t.lines[s].label,itemStyle:{normal:{color:n[s],lineStyle:{color:n[s],width:2}}},smooth:!0,type:"line",data:t.lines[s].data,animationDuration:2800,animationEasing:"cubicInOut"});console.log(e),this.chart.setOption(e)},initChart:function(){console.log("cha",this.chartData),this.chart=b.init(this.$el,"macarons"),this.setOptions(this.chartData)}}},y=w,O=Object(v["a"])(y,_,m,!1,null,null,null),x=O.exports;function D(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,n)}return e}function j(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?D(Object(e),!0).forEach((function(a){Object(i["a"])(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):D(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}var S={name:"Dashboard",data:function(){return{data:{ip_cnt:0,req_count:0,today_create_cnt:0,today_register:0,user_cnt:0,challenges_cnt:0},lineChartData:{}}},methods:{getData:function(){var t=this;c["a"].get("/api/admin/index/state").then((function(a){t.data=a.data,t.lineChartData=a.data.req_data}))},handleSetLineChartData:function(t){}},computed:j({},Object(r["b"])(["user"])),components:{PanelGroup:g,LineChart:x},created:function(){this.getData(),window.__this=this}},L=S,k=Object(v["a"])(L,n,s,!1,null,null,null);a["default"]=k.exports}}]);