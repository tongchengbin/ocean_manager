(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0da6c8"],{"6c16":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"widget"},[e("div",{staticClass:"tool-bar"},[t._v("赛事容器")]),t._v(" "),e("div",{staticClass:"search-group"},[e("el-form",{attrs:{size:"mini",inline:""}},[e("el-form-item",{attrs:{size:"mini"}},[e("el-input",{attrs:{placeholder:"用户名"},model:{value:t.listQuery.username,callback:function(e){t.$set(t.listQuery,"username",e)},expression:"listQuery.username"}})],1),t._v(" "),e("el-form-item",{attrs:{size:"mini"}},[e("el-input",{attrs:{placeholder:"题目名称"},model:{value:t.listQuery.question,callback:function(e){t.$set(t.listQuery,"question",e)},expression:"listQuery.question"}})],1),t._v(" "),e("el-form-item",{attrs:{size:"mini"}},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.getList()}}},[t._v("查询")])],1)],1)],1),t._v(" "),e("div",{staticClass:"widget-content"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{size:"mini",data:t.data,"highlight-current-row":""}},[e("el-table-column",{attrs:{align:"center",label:"名称",prop:"name"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"用户",prop:"username",width:"80"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"题目",prop:"question.name",width:"100"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"端口信息",prop:"container_port"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.container_port)+"\n          ")]}}])}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"Flag",prop:"flag"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"创建日期",prop:"date_created",width:"160"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"有效时间",prop:"destroy_time",width:"160"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tooltip",{staticClass:"item",attrs:{content:"删除容器",effect:"dark",placement:"top"}},[e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.containerRemove(a.row)}}},[t._v("销毁")])],1),t._v(" "),e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.refresh(a.row)}}},[t._v("刷新")])]}}])})],1),t._v(" "),e("div",{staticClass:"pagination-container"},[e("el-pagination",{attrs:{"current-page":t.listQuery.page,"page-size":t.listQuery.page_size,"page-sizes":[10,20,30,50],total:t.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])])},i=[],r=a("e876"),s={name:"container",data:function(){return{loading:!1,data:[],total:0,listQuery:{page:1,page_size:10}}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.loading=!0,r["a"].get("/api/admin/ctf/resource",this.listQuery).then((function(e){t.data=e.data,t.total=e.total,t.loading=!1}))},handleSizeChange:function(t){this.listQuery.page_size=t,this.getList()},handleCurrentChange:function(t){this.listQuery.page=t,this.getList()},refresh:function(t){var e=this;r["a"].post("/api/admin/ctf/resource/".concat(t.id,"/refresh")).then((function(t){e.getList()})).catch((function(t){}))},containerRemove:function(t){var e=this;r["a"].post("/api/admin/ctf/resource/".concat(t.id,"/remove")).then((function(t){e.$message({message:"销毁成功",type:"success"}),e.getList()})).catch((function(t){e.getList()}))}}},l=s,o=a("2877"),c=Object(o["a"])(l,n,i,!1,null,"44db5022",null);e["default"]=c.exports}}]);