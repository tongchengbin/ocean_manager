(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-140b7298"],{"82ae":function(t,e,i){"use strict";i("7f7f");var a=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{center:"",visible:t.show,title:t.title},on:{"update:visible":function(e){t.show=e},close:function(e){return t.$emit("handleEdit",!1)}}},[e("el-form",{ref:"dataForm",staticStyle:{width:"600px",margin:"auto auto","font-size":"13px"},attrs:{size:"mini",model:t.formData,"label-position":"left","label-width":"80px","label-suffix":":"}},[e("el-form-item",{attrs:{size:"mini",label:"角色名",prop:"name"}},[e("el-input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.$emit("handleEdit",!1)}}},[t._v("取消")]),t._v(" "),e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.submit}},[t._v(t._s(t.form.id?"更新":"提交"))])],1)],1)},n=[],o=i("e876"),s={name:"edtRole",props:{form:{type:Object,default:{}}},data:function(){return{show:!1,title:"",formData:{},roles:[]}},created:function(){this.show=!0,this.formData=this.form,this.form.id?this.title="编辑角色":this.title="添加角色"},methods:{submit:function(){var t=this;this.form&&this.form.id?o["a"].put("/api/admin/role",this.formData).then((function(e){t.$message({message:"操作成功",type:"success"}),t.$emit("handleEdit",!0)})).catch((function(t){})):o["a"].post("/api/admin/role",this.formData).then((function(e){t.$message({message:"添加成功",type:"success"}),t.$emit("handleEdit",!0)})).catch((function(t){}))}}},r=s,l=i("2877"),c=Object(l["a"])(r,a,n,!1,null,"196e9724",null);e["a"]=c.exports},f982:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"widget"},[e("div",{staticClass:"tool-bar"},[t._v("角色管理")]),t._v(" "),e("div",{staticClass:"search-group"},[e("el-form",{attrs:{size:"mini",inline:""}},[e("el-form-item",[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.fetchData}},[t._v("查询")])],1),t._v(" "),e("el-form-item",[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.handleCreate}},[t._v("添加")])],1)],1)],1),t._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{size:"mini",data:t.list,"highlight-current-row":""}},[e("el-table-column",{attrs:{label:"角色ID",prop:"id"}}),t._v(" "),e("el-table-column",{attrs:{label:"角色名",prop:"name"}}),t._v(" "),e("el-table-column",{attrs:{prop:"Action",width:"150"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.itemEdit(i.row)}}},[t._v("编辑")]),t._v(" "),e("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){return t.itemDelete(i.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),e("div",{staticClass:"pagination-container"},[e("el-pagination",{attrs:{"current-page":t.listQuery.page,"page-size":t.listQuery.page_size,"page-sizes":[10,20,30,50],total:t.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),t.isEdit?e("edit-role",{attrs:{form:t.editForm},on:{handleEdit:t.handleEdit}}):t._e()],1)},n=[],o=i("e876"),s=i("82ae"),r={name:"role",components:{editRole:s["a"]},data:function(){return{listQuery:{page:1,page_size:10},loading:!1,list:[],total:0,editForm:{},isEdit:!1}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.loading=!0,o["a"].get("/api/admin/role").then((function(e){t.loading=!1;var i=e.data;t.list=i})).catch((function(e){t.loading=!1}))},handleSizeChange:function(t){this.listQuery.page_size=t,this.fetchData()},handleCurrentChange:function(t){this.listQuery.page=t,this.fetchData()},handleCreate:function(){this.isEdit=!0},handleEdit:function(){this.isEdit=!1,this.fetchData()},itemEdit:function(t){this.isEdit=!0,this.editForm=t},itemDelete:function(t){var e=this;o["a"].delete("/api/admin/role/".concat(t.id)).then((function(t){e.fetchData()}))}}},l=r,c=i("2877"),u=Object(c["a"])(l,a,n,!1,null,"58c0f3cb",null);e["default"]=u.exports}}]);