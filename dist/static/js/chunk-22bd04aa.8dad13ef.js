(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22bd04aa"],{"9a42":function(e,t,o){"use strict";o("fc62")},"9e16":function(e,t,o){"use strict";o.r(t);o("7f7f");var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-container"},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{xs:24,sm:{span:20,offset:2},md:{span:20,offset:2},lg:{span:14,offset:5},xl:{span:12,offset:6}}},[t("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"资源名称",docker_type_list:""}},[t("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"组件",docker_type_list:""}},[t("el-input",{model:{value:e.form.app,callback:function(t){e.$set(e.form,"app",t)},expression:"form.app"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"加载类型",required:""}},[t("el-select",{model:{value:e.form.docker_type,callback:function(t){e.$set(e.form,"docker_type",t)},expression:"form.docker_type"}},e._l(e.docker_type_list,(function(e){return t("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})})),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"CVE"}},[e._l(e.form.cve,(function(o,a){return t("el-tag",{key:o},[e._v(e._s(o)+" "),t("span",{staticClass:"close-icon",on:{click:function(t){return e.removeTag(a)}}},[e._v("x")])])})),e._v(" "),t("el-input",{attrs:{placeholder:"输入标签内容"},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}),e._v(" "),t("el-button",{on:{click:e.addTags}},[e._v("添加标签")])],2),e._v(" "),t("el-form-item",{attrs:{label:"镜像名称"}},[t("el-input",{model:{value:e.form.image,callback:function(t){e.$set(e.form,"image",t)},expression:"form.image"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"描述"}},[t("div",{staticClass:"markdown-body",attrs:{id:"my-markdown"}},[t("mavon-editor",{model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)])],1),e._v(" "),t("div",{staticClass:"button-group"},[t("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("提交")]),e._v(" "),t("el-button",{attrs:{type:"info"},on:{click:e.goBack}},[e._v("返回")])],1)],1)],1)],1)},n=[],i=(o("a481"),o("64e1"),o("b2d8")),r=o("e876"),s={name:"resources",components:{mavonEditor:i["mavonEditor"]},data:function(){return{inputValue:"",docker_type_list:[{label:"远程镜像",id:1}],form:{name:"",app:"",cve:[],description:"",image:""}}},created:function(){var e=this.$route.query,t=e.id;t&&this.getItem(t)},methods:{getItem:function(e){var t=this;r["a"].get("/api/admin/vuln/".concat(e)).then((function(o){var a=o.data;t.form.id=e,t.form.app=a.app,t.form.cve=a.cve||[],t.form.name=a.name,t.form.description=a.description,t.form.image="1",t.form.docker_type=a.docker_type}))},goBack:function(){this.$router.back()},handleSubmit:function(){var e=this;this.form.id?r["a"].put("/api/admin/vuln/".concat(this.form.id),this.form).then((function(t){e.$emit("action",!0),e.$message({message:"提交成功",type:"success"}),e.$router.replace({name:"vuln.resource"})})):r["a"].post("/api/admin/vuln",this.form).then((function(t){e.$emit("action",!0),e.$message({message:"提交成功",type:"success"}),e.$router.replace({name:"vuln.resource"})}))},removeTag:function(e){this.form.cve.splice(e,1)},addTags:function(){this.inputValue&&(this.form.cve.push(this.inputValue),this.inputValue="")}}},l=s,c=(o("9a42"),o("2877")),m=Object(c["a"])(l,a,n,!1,null,"f55612c4",null);t["default"]=m.exports},fc62:function(e,t,o){}}]);